---
tags:
  - subtheme
---

**Конструктор** — это особая функция-член класса, которая для каждого объекта вызывается один раз — в момент создания экземпляра класса или структуры. Конструктор предназначен для инициализации экземпляра этого класса. Конструктор описывается подобно методам класса.

- Имя конструктора в C++ должно совпадать с именем класса.
- У конструктора не указывается тип возвращаемого значения, даже `void`.

## Класс Rational содержащий конструктор с проверкой
```C
class Rational {
public:
    // Это конструктор, который инициализирует дробь нужными 
    // значениями числителя и знаменателя.
    Rational(int numerator, int denominator) {
        assert(denominator != 0);
        numerator_ = numerator;
        denominator_ = denominator;
    }
    ...
private:
    int numerator_;
    int denominator_;
};
```

## Класс с двумя конструкторами
```C
#include <cstdlib>

class Rational {
public:
    Rational(int numerator, int denominator) {
        if (denominator == 0) {
            std::abort();
            // Аварийное завершение программы.
        }
        numerator_ = numerator;
        denominator_ = denominator;
    }

    Rational(int value) {
        numerator_ = value;
        // Знаменатель уже равен единице.
    }
    ...
private:
    int numerator_ = 0;
    int denominator_ = 1;
};
```
## Kонструктор по-умолчанию
```C
class Rational {
public:
    Rational() {}
    
private:
    // Значения полей по умолчанию формируют дробь 0/1.
    int numerator_ = 0;
    int denominator_ = 1;
};
```

## Конструктор со списком инициализации
```c
class Rational {
public:
    Rational(int numerator, int denominator):
	    numerator_(numerator),
	    denominator_(denominator)
    {}
    
private:
    // Значения полей по умолчанию формируют дробь 0/1.
    int numerator_ = 0;
    int denominator_ = 1;
};
```

Нужен, если требуется создать класс с присвоенными константными полями

Порядок инициализации должен соответствовать порядку объявлений переменных и кончтант класса

## Конструктор копирования

Конструктор копирования принимает в качестве параметра объект класса, на основе которого создаётся новый.

```c
class Point {
public:
    Point (int x, int y): x(x), y(y) {} // Конструктор с параметрами.
    Point(const Point &point) { // Конструктор копирования.
        x = point.x;
        y = point.y;
    }
    
    // Перегрузка присваивания.
    Point& operator=(const Point& point) {
        x = point.x;
        y = point.y;
        return *this;
    }
    int x, y;
};

int main() {

Point point_1{0, 0}; // Используем конструктор с параметрами. Point 

Point point_2(point_1); // Копируем
...
```